.TH "OC ADM" "1" " Openshift CLI User Manuals" "Openshift" "June 2016"  ""


.SH NAME
.PP
oc adm diagnostics \- Diagnose common cluster problems


.SH SYNOPSIS
.PP
\fBoc adm diagnostics\fP [OPTIONS]


.SH DESCRIPTION
.PP
This utility helps troubleshoot and diagnose known problems. It runs diagnostics using a client and/or the state of a running master / node host.

.PP
oc adm diagnostics

.PP
If run without flags, it will check for standard config files for client, master, and node, and if found, use them for diagnostics. You may also specify config files explicitly with flags, in which case you will receive an error if they are not found. For example:

.PP
oc adm diagnostics \-\-master\-config=/etc/origin/master/master\-config.yaml
.IP 

.IP
\(bu If master/node config files are not found and the \-\-host flag is not present, host diagnostics are skipped.
.br
.IP
\(bu If the client has cluster\-admin access, this access enables cluster diagnostics to run which regular users cannot.
.br
.IP
\(bu If a client config file is not found, client and cluster diagnostics are skipped.
.br
.PP
Diagnostics may be individually run by passing diagnostic name as arguments.

.PP
oc adm diagnostics <DiagnosticName>

.PP
The available diagnostic names are: AggregatedLogging, AnalyzeLogs, ClusterRegistry, ClusterRoleBindings, ClusterRoles, ClusterRouter, ConfigContexts, DiagnosticPod, MasterConfigCheck, MasterNode, MetricsApiProxy, NetworkCheck, NodeConfigCheck, NodeDefinitions, ServiceExternalIPs, UnitStatus.


.SH OPTIONS
.PP
\fB\-\-cluster\-context\fP=""
    Client context to use for cluster administrator

.PP
\fB\-\-config\fP=""
    Path to the config file to use for CLI requests.

.PP
\fB\-\-context\fP=""
    The name of the kubeconfig context to use

.PP
\fB\-l\fP, \fB\-\-diaglevel\fP=1
    Level of diagnostic output: 4: Error, 3: Warn, 2: Notice, 1: Info, 0: Debug

.PP
\fB\-\-host\fP=false
    Look for systemd and journald units even without master/node config

.PP
\fB\-\-images\fP="openshift/origin\-${component}:${version}"
    Image template for DiagnosticPod to use in creating a pod

.PP
\fB\-\-latest\-images\fP=false
    When expanding the image template, use latest version, not release version

.PP
\fB\-\-loglevel\fP=0
    Set the level of log output (0\-10)

.PP
\fB\-\-logspec\fP=""
    Set per module logging with file|pattern=LEVEL,...

.PP
\fB\-\-master\-config\fP=""
    Path to master config file (implies \-\-host)

.PP
\fB\-\-network\-logdir\fP="/tmp/openshift/"
    Path to store network diagnostic results in case of errors

.PP
\fB\-\-node\-config\fP=""
    Path to node config file (implies \-\-host)

.PP
\fB\-\-prevent\-modification\fP=false
    May be set to prevent diagnostics making any changes via the API


.SH OPTIONS INHERITED FROM PARENT COMMANDS
.PP
\fB\-\-api\-version\fP=""
    DEPRECATED: The API version to use when talking to the server

.PP
\fB\-\-as\fP=""
    Username to impersonate for the operation

.PP
\fB\-\-certificate\-authority\fP=""
    Path to a cert. file for the certificate authority

.PP
\fB\-\-client\-certificate\fP=""
    Path to a client certificate file for TLS

.PP
\fB\-\-client\-key\fP=""
    Path to a client key file for TLS

.PP
\fB\-\-cluster\fP=""
    The name of the kubeconfig cluster to use

.PP
\fB\-\-google\-json\-key\fP=""
    The Google Cloud Platform Service Account JSON Key to use for authentication.

.PP
\fB\-\-insecure\-skip\-tls\-verify\fP=false
    If true, the server's certificate will not be checked for validity. This will make your HTTPS connections insecure

.PP
\fB\-\-log\-flush\-frequency\fP=0
    Maximum number of seconds between log flushes

.PP
\fB\-\-match\-server\-version\fP=false
    Require server version to match client version

.PP
\fB\-n\fP, \fB\-\-namespace\fP=""
    If present, the namespace scope for this CLI request

.PP
\fB\-\-request\-timeout\fP="0"
    The length of time to wait before giving up on a single server request. Non\-zero values should contain a corresponding time unit (e.g. 1s, 2m, 3h). A value of zero means don't timeout requests.

.PP
\fB\-\-server\fP=""
    The address and port of the Kubernetes API server

.PP
\fB\-\-token\fP=""
    Bearer token for authentication to the API server

.PP
\fB\-\-user\fP=""
    The name of the kubeconfig user to use


.SH SEE ALSO
.PP
\fBoc\-adm(1)\fP,


.SH HISTORY
.PP
June 2016, Ported from the Kubernetes man\-doc generator
